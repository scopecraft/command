+++
id = "TASK-20250518T002122"
title = "Add Specialized Development Flow Commands"
type = "enhancement"
status = "ðŸ”µ In Progress"
priority = "ðŸ”¼ High"
created_date = "2025-05-18"
updated_date = "2025-05-18"
assigned_to = "ai"
phase = "planning"
tags = [ "enhancement", "commands", "workflow", "documentation" ]
+++

# Add Specialized Development Flow Commands

## Description

Enhance the development workflow by creating specialized Claude commands that guide users through a structured feature development process. This will improve consistency, reduce context loss between sessions, and ensure proper documentation throughout the development lifecycle.

## Background

The current task system is lightweight and implementation-focused. We need to add commands that:
1. Guide through feature proposal â†’ PRD â†’ planning â†’ execution
2. Create proper breadcrumbs for future Claude sessions
3. Leverage existing task system (phases, features, areas, tasks)
4. Provide specialized guidance for different technical domains

## Implementation Approach: Hybrid Strategy

Based on analysis, we'll use a hybrid approach balancing maintainability with performance:

### Specialized Commands (Major Workflow Differences)
- `/project:brainstorm-feature` - Generate initial feature ideas
- `/project:feature-proposal` - Create formal proposal with requirements  
- `/project:feature-to-prd` - Transform proposal into detailed PRD
- `/project:feature-planning` - Create comprehensive task breakdown

These have fundamentally different purposes and require distinct prompts.

### Generic Commands with Modes (Technical Variations)
- `/project:implement typescript TASK-123` - Core development tasks
- `/project:implement ui TASK-123` - UI/UX implementation
- `/project:implement mcp TASK-123` - MCP server implementation
- `/project:implement cli TASK-123` - CLI feature implementation
- `/project:test TASK-123` - Testing strategy and implementation
- `/project:integrate TASK-123` - Cross-area integration work

These share common patterns but need domain-specific guidance.

### Implementation Example

```markdown
# /project:implement command structure

<task>
You are implementing a task. Load domain-specific guidance based on the mode.
</task>

<mode_detection>
Mode requested: $ARGUMENTS
Extract mode (first word) and task ID (remaining).
</mode_detection>

<load_guidance>
Based on mode, incorporate domain-specific patterns:
- typescript: Focus on type safety, core logic patterns
- ui: Use Scopecraft UI components, terminal aesthetic
- mcp: Follow MCP protocol, tool patterns
- cli: Command structure, argument parsing
</load_guidance>

[Common implementation guidance here...]
```

### Benefits of Hybrid Approach
1. **Reduced duplication** for similar workflows
2. **Specialized commands** where truly different
3. **Extensible** - easy to add new implementation modes
4. **Maintainable** - shared logic in one place
5. **Clear user experience** - logical command groupings

## Requirements

### System Knowledge All Commands Need

1. **Core Understanding**:
   - Task hierarchy and relationships
   - MCP tools prefix: `mcp__scopecraft-cmd__*`
   - Organizational structure (see Organizational Structure Guide)
   - Phases are project/release milestones, NOT task statuses

2. **File Locations**:
   - Templates: `/docs/templates/`
   - Documentation: `/docs/`
   - Commands: `/.claude/commands/`
   - Command Resources: `/docs/command-resources/`
   - Organizational Guide: `/docs/organizational-structure-guide.md`

3. **Conventions**:
   - Task ID format: `TASK-YYYYMMDD-HHMMSS`
   - Always use MCP tools, not CLI
   - Create breadcrumbs for context
   - Understand phases vs statuses distinction
   - Always update task logs and checklists

### Organizational Structure Guidelines

1. **Phases**: Project/release milestones (v1, v1.1, backlog, brand-refresh)
   - High-level project organization
   - Similar to MDTM's phase concept
   - Used for release planning and prioritization
   
2. **Statuses**: Task lifecycle stages (planning, implementation, testing, review, done)
   - Track individual task progress
   - Different from phases - this is task-level workflow
   
3. **Features**: User-facing capabilities that can span areas
   - Deliverable units of functionality
   - May contain multiple tasks across different statuses
   - Assigned to specific phases for release planning
   
4. **Areas**: Major functional domains
   - `cli` - Command-line interface
   - `mcp` - MCP server and AI integration
   - `ui` - Web interface (tasks-ui)
   - `core` - Core task management logic
   - `docs` - Documentation
   - `devops` - Build, deployment, testing
   - `orchestrator` - Work coordination and parallel task management
   
5. **Tasks**: Specific, actionable work items
   - Atomic units of work
   - Have both a phase (release) and status (progress)
   - Belong to an area and potentially a feature

## Success Criteria

- [x] All commands follow consistent structure and patterns
- [x] Commands create proper documentation for context preservation
- [ ] Integration with existing task system is seamless
- [x] Each command has clear examples and usage instructions
- [x] Commands guide users through best practices
- [x] Specialized commands provide domain-specific guidance
- [x] Commands understand phases vs statuses correctly
- [x] Generic commands properly parse mode and task ID
- [ ] Mode-specific guidance is comprehensive

## Implementation Checklist

### Planning Phase
- [x] Review existing command patterns (review.md, add-react-feature.md)
- [x] Define common command structure/template
- [x] Document system knowledge requirements
- [x] Create command specifications
- [x] Study organizational structure guide
- [x] Design mode parsing logic for generic commands

### Development Phase  
- [x] Create specialized workflow commands:
  - [x] brainstorm-feature
  - [x] feature-proposal
  - [x] feature-to-prd
  - [x] feature-planning
- [ ] Create generic mode-based commands:
  - [x] implement (with typescript, ui, mcp, cli modes)
  - [ ] test
  - [ ] integrate
- [ ] Enhance add-react-feature to tasks-ui-feature
- [x] Add examples to each command
- [ ] Test command flow end-to-end
- [ ] Test mode parsing and switching

### Testing Phase
- [ ] Validate commands create proper task structures
- [ ] Ensure MCP tool integration works correctly
- [ ] Test context preservation between sessions
- [ ] Verify command chaining works as expected
- [ ] Test mode-based commands with all variations
- [ ] Verify phase/status handling is correct

### Documentation Phase
- [x] Update claude-commands-guide.md with new patterns
- [x] Document hybrid approach and mode usage
- [x] Create workflow documentation showing command usage
- [x] Add command reference to README
- [x] Document best practices for command development
- [x] Cross-reference with organizational structure guide
- [x] Clarify phase vs status terminology

## Implementation Log

### 2025-05-18 - Initial Planning and Implementation

**Completed:**
1. Created organizational structure guide to clarify phases vs statuses
2. Defined hybrid approach for commands (specialized vs generic with modes)
3. Created `/docs/command-resources/` structure for templates and modes
4. Implemented `/project:implement` command with mode detection
5. Created feature planning template at `/docs/command-resources/planning-templates/feature-planning.md`
6. Implemented `/project:feature-planning` command
7. Moved `implement-modes` to consolidated location
8. Enhanced implement command with task update instructions

### 2025-05-18 - Feature Workflow Commands

**Completed:**
1. Created planning guides:
   - `/docs/command-resources/planning-templates/brainstorming-guide.md`
   - `/docs/command-resources/planning-templates/proposal-guide.md`
   - `/docs/command-resources/planning-templates/prd-guide.md`

2. Created feature proposal and PRD templates:
   - `/docs/command-resources/planning-templates/feature-proposal.md`
   - `/docs/command-resources/planning-templates/feature-prd.md`

3. Implemented workflow commands:
   - `/project:brainstorm-feature` - Interactive brainstorming assistant
   - `/project:feature-proposal` - Creates structured proposals from ideas
   - `/project:feature-to-prd` - Expands proposals into detailed PRDs

**Key Decisions:**
- Pragmatic approach for solo developer (no metrics, sprints, etc.)
- Focus on actionable documentation for LLM sessions
- Templates optimized for quick implementation
- Workflow designed for rapid iteration

### 2025-05-18 - Command Quality Review

**Completed:**
1. Reviewed all commands for required elements:
   - Added organizational structure references
   - Verified MCP tool usage with correct prefixes
   - Ensured template references are correct
   - Added task update instructions
   - Added human review sections

2. Enhanced each command with:
   - Human review tracking for assumptions
   - Clear instructions to save review items in tasks
   - References to organizational structure guide
   - Proper area and phase handling

**Key Enhancement:** Added "Human Review Needed" sections to all commands to flag:
- Assumptions made without explicit user input
- Technical decisions needing verification
- Creative conclusions derived from limited context
- Items for future orchestrator review

### 2025-05-18 - Documentation

**Completed:**
1. Updated claude-commands-guide.md with:
   - Command design patterns section
   - Hybrid approach documentation
   - Mode detection patterns
   - Resource organization guidelines
   - Enhanced best practices
   - Workflow commands section

2. Created comprehensive workflow documentation:
   - `/docs/feature-development-workflow.md`
   - Complete walkthrough from idea to implementation
   - Example workflows and troubleshooting
   - Command patterns and best practices

3. Updated main README.md:
   - Added Claude Commands section
   - Listed available commands
   - Linked to documentation
   - Provided example workflow

All documentation tasks completed successfully.

**Next Steps:**
- Create test feature to validate workflow
- Add mode-specific implementation guides
- Create test and integrate commands
- Test command flow end-to-end
- Update existing commands to new patterns

## Related Information

- Existing commands: `/project:review`, `/project:add-react-feature`
- Guide: `/docs/claude-commands-guide.md`
- Organizational Structure: `/docs/organizational-structure-guide.md`
- Command Resources: `/docs/command-resources/`
- Templates: `/docs/templates/`
- MCP tools documentation: `/docs/mcp-tool-descriptions.md`

## Notes

- Commands should be aware of context limitations and create breadcrumbs
- Each command should reference relevant documentation and templates
- Specialized commands should integrate with existing UI patterns and conventions
- Focus on creating a smooth workflow from ideation to implementation
- Commands must understand the organizational structure correctly:
  - Phases = project/release milestones (v1, v1.1, backlog)
  - Statuses = task lifecycle (planning, implementation, done)
  - Areas = technical domains
  - Features = user-facing capabilities
- Generic commands need robust argument parsing for mode detection
- Consider future extensibility when designing mode system
- Always update task logs and checklists to maintain context across sessions
- Human review sections prepare for future orchestrator with human-in-the-loop
