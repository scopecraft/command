+++
id = "TASK-20250515T015612"
title = "Implement Basic CLI Override for Project Root Path"
type = "ðŸŒŸ Feature"
status = "ðŸŸ¡ To Do"
priority = "ðŸ”¼ High"
created_date = "2025-05-15"
updated_date = "2025-05-15"
assigned_to = ""
phase = "release-v1"
subdirectory = "AREA_ProjectPathManagement"
+++

## Description

Add support for overriding the project root path detection via a command-line argument. This enhancement will allow the MCP server to work correctly in environments like Cursor and Claude Desktop where the server is spawned from the application's location rather than the project directory.

## Background

Currently, the project root detection works well for:
- CLI usage (where the command is run from within the project directory)
- Claude Code MCP integration (where the MCP server is spawned in the project directory)

However, it fails in:
- Cursor, Claude Desktop, and similar tools (where MCP servers are spawned from the application's location)

## Implementation Details

1. Add a new CLI argument to the MCP server:
   - `--root-dir <path>` - Specify the project root directory

2. Modify the core library to:
   - Check for this override parameter first
   - Fall back to current detection method if not provided
   - Add validation to ensure the path exists and is accessible

3. Update the MCP server to:
   - Accept and parse the new CLI argument
   - Pass the root directory to the core library

## Technical Requirements

- The override should take precedence over automatic detection
- The path should be validated (exists, is a directory, is readable)
- The solution should be backward compatible (work without breaking existing functionality)
- Error messages should be clear when an invalid path is provided

## Acceptance Criteria

- [ ] CLI argument `--root-dir` is implemented for the MCP server
- [ ] Core library checks for this override before using automatic detection
- [ ] MCP server passes the root directory to core correctly
- [ ] Basic validation is implemented (path exists and is accessible)
- [ ] Documentation is updated to describe this new parameter
- [ ] Tests are added to verify the functionality

## Testing Strategy

- Unit tests for core library path handling
- Integration tests for MCP server with path override
- Manual testing with Cursor/Claude Desktop by specifying paths

## Documentation Updates Required

- Update CLI help text to include the new parameter
- Update README to mention the parameter for external tool integration
- Add examples of usage with Cursor and Claude Desktop

## Future Considerations

This task focuses on a basic single-path override. Future enhancements will include:
- Support for MCP Roots protocol integration
- Multi-project support with project switching
