+++
id = "TASK-20250515T021302"
title = "Improve CLI Help Display and Organization"
type = "ðŸ§ª Enhancement"
status = "ðŸŸ¡ To Do"
priority = "ðŸ”¼ High"
created_date = "2025-05-15"
updated_date = "2025-05-15"
assigned_to = ""
phase = "release-v1"
subdirectory = "FEATURE_CoreEnhancements"
+++

## Description

Improve the CLI help display to provide better organization, clarity, and discoverability of commands. The current help output lists all commands in a flat structure, including legacy commands, which can be confusing for users. This task aims to reorganize the help system to make it more structured and intuitive.

## Background & Analysis

The CLI uses Commander.js for command parsing and help generation. We recently implemented an entity-command pattern where commands are organized by entity type (task, phase, feature, area, workflow). However, the help output doesn't clearly communicate this organization, and still prominently displays legacy command formats.

Current issues with the help display:
1. No clear visual grouping of commands by entity type
2. Legacy commands are mixed with new entity-based commands
3. Lack of section headers to differentiate command groups
4. Redundant descriptions for legacy commands
5. Help text doesn't emphasize the recommended entity-command pattern

## Implementation Requirements

1. **Structured Command Groups**:
   - Group commands by entity type (task, phase, feature, area, workflow)
   - Add visual section headers for each group
   - Provide brief descriptions of what each entity group is for

2. **Legacy Command Handling**:
   - Remove explicit mentions of legacy format in command descriptions
   - Maintain legacy commands for backward compatibility, but de-emphasize them
   - Consider moving legacy commands to a separate "deprecated" section or hiding from main help

3. **Help Text Customization**:
   - Use Commander.js's `.addHelpText()` to add formatted section headers
   - Add clearer descriptions for each command group
   - Consider adding examples for common usage patterns

4. **Visual Improvements**:
   - Add clear separators between command groups
   - Use indentation or formatting to improve readability
   - Consider using color (if terminal supports it) for section headers

## Technical Implementation Approach

1. **Use Commander.js's help customization**:
   ```typescript
   program.addHelpText('beforeAll', `
   USAGE: sc [entity] [command] [options]
   
   Available entity types:
   - task       Task operations (create, list, update, etc.)
   - phase      Phase management operations
   - feature    Feature management operations
   - area       Area management operations
   - workflow   Task workflow and sequence operations
   `);
   ```

2. **Customize entity command groups**:
   ```typescript
   // Example for task command group
   taskCommand
     .description('Task management commands (create, list, update tasks)')
     .addHelpText('before', '\nTASK MANAGEMENT:\n');
   ```

3. **Hide or de-emphasize legacy commands**:
   - Use `.hidden()` for legacy commands or mark them deprecated
   - Create a "deprecated" command group for legacy commands
   - Change descriptions to avoid explicitly mentioning they're legacy

4. **Clear command organization**:
   - Ensure consistent spacing and grouping in help output
   - Add visual separators between command groups
   - Use consistent terminology across all help text

## Tasks

- [ ] Customize root program help text with overview of entity types
- [ ] Add section headers for each entity command group
- [ ] Improve command descriptions to be more informative
- [ ] De-emphasize legacy commands in help output
- [ ] Add examples for common usage patterns
- [ ] Test help output in different terminal environments
- [ ] Update CLAUDE.md and documentation with new help format

## Acceptance Criteria

- Help output is clearly organized by entity type
- Section headers visually separate command groups
- Command descriptions are clear and informative
- Legacy commands are de-emphasized or separated
- Example usage patterns are provided
- Help text renders correctly in different terminal environments
- No functionality changes to existing commands

## Example Help Output Format

```
USAGE: sc [entity] [command] [options]

Available entity types:
  task       Task operations (create, list, update, etc.)
  phase      Phase management operations
  feature    Feature management operations
  area       Area management operations
  workflow   Task workflow and sequence operations

TASK MANAGEMENT:
  task list           List all tasks
  task get <id>       Get task details
  task create         Create a new task
  task update <id>    Update an existing task
  ...

PHASE MANAGEMENT:
  phase list          List all phases
  phase create        Create a new phase
  ...

FEATURE & AREA MANAGEMENT:
  feature list        List all features
  feature create      Create a new feature
  area list           List all areas
  ...

WORKFLOW COMMANDS:
  workflow next       Find next task to work on
  workflow current    Show in-progress tasks
  ...
```
