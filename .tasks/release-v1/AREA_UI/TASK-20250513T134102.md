+++
id = "TASK-20250513T134102"
title = "Add Feature and Area Support to Task UI"
type = "üåü Feature"
status = "üîµ In Progress"
priority = "üîº High"
created_date = "2025-05-13"
updated_date = "2025-05-15"
assigned_to = "react-dev"
phase = "release-v1"
subdirectory = "AREA_UI"
tags = [ "ui", "feature", "area", "hierarchy", "react" ]
+++

# Add Feature and Area Support to Task UI

## Description ‚úçÔ∏è

La gestion des t√¢ches UI affiche actuellement les t√¢ches dans une liste plate ou par phase, mais ne permet pas de visualiser et de naviguer dans la structure hi√©rarchique des features/areas. Cette t√¢che consiste √† am√©liorer l'UI pour supporter pleinement la structure de r√©pertoire MDTM des features et areas, facilitant le travail avec des collections de t√¢ches organis√©es.

## Objectifs et Crit√®res d'Acceptation ‚úÖ

### Phase 1: Visualisation Hi√©rarchique (Priorit√© Haute)
* - [ ] **Affichage group√© dans le tableau de t√¢ches**:
  * - [ ] Ajouter une colonne "Feature/Area" dans la liste des t√¢ches
  * - [ ] Permettre le tri et le filtrage par feature/area
  * - [ ] Distinguer visuellement les features et areas (ic√¥nes diff√©rentes)
  * - [ ] Ajouter un indicateur de progression pour chaque feature/area

* - [ ] **Vue d√©taill√©e pour une Feature/Area sp√©cifique**:
  * - [ ] Cr√©er une route d√©di√©e `/feature/:id` et `/area/:id`
  * - [ ] Afficher l'en-t√™te avec titre, description et statut
  * - [ ] Lister toutes les t√¢ches appartenant √† cette feature/area
  * - [ ] Int√©grer un indicateur de progression (% de t√¢ches compl√©t√©es)

* - [ ] **Navigation contextualis√©e**:
  * - [ ] Dans la vue d√©taill√©e d'une t√¢che, afficher son feature/area parent
  * - [ ] Ajouter des liens de navigation pour revenir √† la feature/area

### Phase 2: Organisation et Filtrage (Priorit√© Moyenne)
* - [ ] **Filtres avanc√©s dans la liste principale**:
  * - [ ] Ajouter une section de filtres d√©di√©e aux features/areas
  * - [ ] Supporter la combinaison de filtres (phase + feature/area + statut)
  * - [ ] Permettre un filtrage rapide par features/areas populaires

* - [ ] **R√©tro-navigation intelligente**:
  * - [ ] Pr√©server le contexte feature/area lors de la navigation
  * - [ ] Retour intelligent √† la liste filtr√©e apr√®s √©dition d'une t√¢che

### Phase 3: Interactions Avanc√©es (Priorit√© Basse)
* - [ ] **R√©organisation par interface simplifi√©e**:
  * - [ ] Permettre de d√©placer des t√¢ches entre features/areas via liste d√©roulante
  * - [ ] Support pour l'organisation par lots (s√©lection multiple de t√¢ches)

* - [ ] **Interface d'√©dition de feature/area**:
  * - [ ] Formulaires d√©di√©s pour cr√©er/modifier features et areas
  * - [ ] Support pour d√©finir les m√©tadonn√©es et les descriptions

## Exigences d'Impl√©mentation üìù

### API Requise

L'interface utilisateur consommera les points d'API am√©lior√©s d√©velopp√©s dans la t√¢che connexe "Enhance Feature and Area Support in CLI and MCP" (TASK-20250513T132917). Les endpoints cl√©s comprennent:

* Endpoint de liste des features (feature_list)
* Endpoint de d√©tails d'une feature (feature_get)
* Endpoint de liste des areas (area_list)
* Endpoint de d√©tails d'une area (area_get)
* Liste des t√¢ches am√©lior√©e avec informations hi√©rarchiques
* Endpoint de d√©placement des t√¢ches pour les fonctionnalit√©s de r√©organisation

### Approche Technique

#### Modification de la DataTable
```tsx
// Extension de la DataTable existante
<DataTable 
  columns={columns} 
  data={filteredTasks}
  groupBy="subdirectory"  // Nouveau param√®tre pour grouper par feature/area
  groupRenderer={(group) => (
    <FeatureAreaGroupHeader 
      name={group.name} 
      type={group.type} // "feature" ou "area"
      taskCount={group.items.length}
      progress={calculateProgress(group.items)}
    />
  )}
/>
```

#### Nouvelle Route Feature/Area
```tsx
// Nouveaux composants pour l'affichage d√©di√©
<Route path="/feature/:id" component={FeatureView} />
<Route path="/area/:id" component={AreaView} />

// Composant FeatureView (similaire pour AreaView)
function FeatureView() {
  const { id } = useParams();
  const { tasks } = useTaskContext();
  
  // Filtrer les t√¢ches appartenant √† cette feature
  const featureTasks = tasks.filter(task => 
    task.subdirectory === `FEATURE_${id}`
  );
  
  return (
    <div>
      <FeatureHeader id={id} />
      <ProgressIndicator tasks={featureTasks} />
      <TaskListView tasks={featureTasks} />
    </div>
  );
}
```

#### Extension du Filtre Existant
```tsx
// Ajout de filtres pour features/areas
function FeatureAreaFilters({
  filters,
  onFilterChange,
  featureOptions,
  areaOptions
}) {
  // Logique de filtrage
  return (
    <div className="filter-section">
      <h3>Features</h3>
      {featureOptions.map(feature => (
        <FilterCheckbox
          key={feature}
          label={feature.replace('FEATURE_', '')}
          checked={filters.subdirectory === feature}
          onChange={() => handleFeatureChange(feature)}
        />
      ))}
      
      <h3>Areas</h3>
      {areaOptions.map(area => (
        <FilterCheckbox
          key={area}
          label={area.replace('AREA_', '')}
          checked={filters.subdirectory === area}
          onChange={() => handleAreaChange(area)}
        />
      ))}
    </div>
  );
}
```

### Composants UI √† D√©velopper

1. **Colonne Feature/Area**:
   - Affichage du nom de la feature/area dans la table des t√¢ches
   - Badges visuels avec diff√©renciation features vs areas

2. **En-t√™te de Groupe**:
   - Composant pour les groupes feature/area dans la table
   - Barre de progression et informations de r√©sum√©

3. **Page D√©taill√©e**:
   - Vue compl√®te pour une feature ou area sp√©cifique
   - Contenu de l'overview
   - Liste des t√¢ches filtr√©e
   - M√©triques de progression

4. **Filtres Am√©lior√©s**:
   - Section de filtres d√©di√©e aux features/areas
   - Support multi-s√©lection et combinaison

5. **Interfaces de Mouvement**:
   - Listes d√©roulantes pour le d√©placement de t√¢ches
   - Mode de s√©lection par lots

### Consid√©rations de Design

- Maintenir la coh√©rence avec le langage de design UI existant
- Assurer l'accessibilit√© pour tous les nouveaux composants UI
- Optimiser pour les vues desktop et mobile
- Consid√©rer les implications de performance de l'affichage des donn√©es hi√©rarchiques
- Utiliser la divulgation progressive pour g√©rer la complexit√©
- Appliquer un code couleur coh√©rent dans toutes les vues

## D√©pendances üîÑ

- D√©pend de l'impl√©mentation backend du support feature/area (TASK-20250513T132917)
- N√©cessite des endpoints API pour:
  - Liste des features/areas
  - D√©tails des features/areas
  - D√©placement des t√¢ches entre features/areas
  - Listes de t√¢ches hi√©rarchiques

## Approche d'impl√©mentation Sugg√©r√©e üí°

- **Phase 1**: Visualisation de base (1-2 semaines)
  - Impl√©mentation de la colonne feature/area dans la liste
  - Ajout du groupement par feature/area
  - Cr√©ation des pages d√©taill√©es pour features/areas
  
- **Phase 2**: Filtrage et navigation (1 semaine)
  - Impl√©mentation des filtres avanc√©s
  - Am√©lioration de la navigation contextuelle
  - Ajout de l'indicateur de progression
  
- **Phase 3**: Organisation et cr√©ation (1 semaine)
  - Interface de d√©placement des t√¢ches
  - Formulaires de cr√©ation/√©dition de features et areas
  - Op√©rations par lots pour la gestion des t√¢ches

## Notes de Revue üëÄ

- Coordonner avec les d√©veloppeurs backend travaillant sur les endpoints d'API feature/area
- Se concentrer sur le d√©ploiement incr√©mental pour fournir rapidement les fonctionnalit√©s de base
- Envisager des tests A/B pour l'approche de visualisation feature/area

## Mises √† jour üîÑ

- **2025-05-15**: Sp√©cification UX enti√®rement r√©vis√©e pour prioriser la visualisation hi√©rarchique, le filtrage et la navigation contextuelle. L'approche est simplifi√©e et progressive, en commen√ßant par les fonctionnalit√©s les plus importantes pour les utilisateurs.