+++
id = "TASK-20250518T200710"
title = "Implement Concise Task ID Format"
type = "üöÄ Implementation"
status = "üü° To Do"
priority = "‚ñ∂Ô∏è Medium"
created_date = "2025-05-18"
updated_date = "2025-05-18"
assigned_to = ""
phase = "release-v1"
tags = [ "AREA:core", "task-management" ]
related_docs = [ "REQ-CONCISEID-0518" ]
+++

Replace timestamp-based task IDs with a concise, context-aware format to solve collision issues and provide immediate context

## Requirements Reference

See [REQ-CONCISEID-0518](/tasks/planning/proposals/REQ-CONCISEID-0518.md) for detailed requirements, problem statement, and design rationale.

## 1. Core Implementation Todo List

- [ ] Create ID generator module (src/core/task-manager/id-generator.ts)
  - [ ] Define interface for ID generation options
  - [ ] Implement generateTaskId function with format: {TYPE}-{CONTEXT}-{MMDD}-{XX}
  - [ ] Add type mapping (e.g., "üöÄ Implementation" ‚Üí "FEAT", "üêõ Bug" ‚Üí "BUG")
  - [ ] Handle edge cases for missing titles or empty input

- [ ] Implement context extraction logic
  - [ ] Define stop words list (a, the, an, for, to, etc.)
  - [ ] Create extractContext function to get 1-2 significant words from title
  - [ ] Handle edge cases (no meaningful words, special characters)
  - [ ] Implement word concatenation without dashes
  - [ ] Add configurable max length for context portion

- [ ] Create random suffix generator
  - [ ] Implement 2-character alphanumeric generator
  - [ ] Use crypto-safe random generation
  - [ ] Ensure proper character set (exclude confusing chars like 0/O, 1/l)

- [ ] Add ID validation
  - [ ] Create validateTaskId function
  - [ ] Check format compliance
  - [ ] Ensure uniqueness against existing IDs

- [ ] Update task parser (src/core/task-parser.ts)
  - [ ] Import new ID generator module
  - [ ] Replace current timestamp-based ID generation
  - [ ] Update parseTaskFile to handle new ID format
  - [ ] Maintain backward compatibility for existing timestamp IDs

- [ ] Update task CRUD operations
  - [ ] Modify createTask in task-crud.ts to use new ID generator
  - [ ] Update task-crud-debug.ts for debugging new IDs
  - [ ] Handle ID collision retries (regenerate suffix)
  - [ ] Add configuration flags for enabling new ID format

- [ ] Add configuration support
  - [ ] Add ID format configuration to project-config.ts
  - [ ] Create options for custom stop words, context length, type mappings
  - [ ] Update task lookup logic to support both formats
  - [ ] Add migration path for gradual adoption

## 2. CLI Integration Todo List

- [ ] Update task-related commands in commands.ts
- [ ] Add display formatting for new IDs in CLI output
- [ ] Update auto-completion to handle new format
- [ ] Add backwards compatibility for ID references
- [ ] Create optional migration command
  - [ ] Add dry-run mode to preview changes
  - [ ] Provide rollback capability

## 3. MCP Integration Todo List

- [ ] Update task handlers to support new ID format
- [ ] Ensure proper serialization of new IDs
- [ ] Update response formats to include new ID fields
- [ ] Handle lookup by partial ID (preparation for future progressive precision)
- [ ] Test all MCP operations with new format

## 4. UI Updates Todo List

- [ ] Update ID display in task UI (tasks-ui/)
- [ ] Adjust column widths for shorter IDs
- [ ] Update search/filter to work with new format
- [ ] Add tooltips showing full timestamp if needed
- [ ] Test UI with various ID lengths

## 5. Documentation and Testing Todo List

- [ ] Create documentation
  - [ ] Create docs/specs/id-format.md specification
  - [ ] Update README.md with new ID format examples
  - [ ] Document migration guide for existing projects
  - [ ] Add configuration examples
  - [ ] Update API documentation

- [ ] Implement tests
  - [ ] Unit tests for ID generation with various inputs
  - [ ] Test context extraction edge cases
  - [ ] Test suffix randomness and uniqueness
  - [ ] Test collision handling
  - [ ] Integration tests for end-to-end task creation
  - [ ] Test batch creation scenarios
  - [ ] Test mixed environment (old and new IDs)

- [ ] Performance benchmarking
  - [ ] Benchmark ID generation performance
  - [ ] Document performance implications
  - [ ] Compare with old format
  - [ ] Test ID generation overhead on batch operations

## Success Criteria

- ID generator creates IDs in the format TYPE-CONTEXT-MMDD-XX
- Context extraction handles edge cases gracefully
- Random suffix provides sufficient uniqueness
- Task creation uses new ID format by default
- Batch creation handles collisions gracefully
- Existing tasks with old IDs continue to work
- All commands and UI support new format
- Configuration allows format customization
- Complete documentation and tests available
- Performance characteristics understood

## Implementation Notes

- The new format will be: `{TYPE}-{CONTEXT}-{MMDD}-{XX}`
- Example: `BUG-USERAUTH-0518-K3`
- We're solving real problems: timestamp collisions, zero context, excessive length
- Backwards compatibility is critical - old IDs must continue working
- Start with core implementation, then update all interfaces
